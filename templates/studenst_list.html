<div class="container mt-4">
  <h2 class="text-center mb-4 title">ðŸ“š Students</h2>

  <a href="{% url 'student_add' %}" class="btn btn-success mb-3 add-btn">
    + Add Student
  </a>

  <table class="table table-striped table-hover shadow-sm rounded student-table">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Roll</th>
        <th>Course</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for s in students %}
      <tr style="--delay: {{ forloop.counter0 }};">
        <td>{{ s.id }}</td>
        <td>{{ s.name }}</td>
        <td>{{ s.roll }}</td>
        <td>{{ s.course.name }}</td>
        <td>
          <a href="{% url 'student_delete' s.id %}" 
             class="btn btn-sm btn-danger"
             onclick="return confirm('Delete this student?');">Delete</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="text-center">No students found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="text-center mt-3">
    <a href="{% url 'profile' %}" class="btn btn-secondary back-btn">â¬… Back to Profile</a>
  </div>
</div>

<style>
  /* Title */
  .title {
    animation: fadeInDown 1s ease;
    font-weight: bold;
    color: #2c3e50;
  }

  /* Add Student Button */
  .add-btn {
    animation: fadeIn 1.2s ease;
  }

  /* Table Animation */
  .student-table {
    animation: fadeInUp 1s ease;
  }

  .student-table tbody tr {
    opacity: 0;
    animation: rowFade 0.6s ease forwards;
    animation-delay: calc(var(--delay) * 0.15s);
  }

  /* Hover Effect */
  .student-table tbody tr:hover {
    background-color: #f8f9fa !important;
    transform: scale(1.01);
    transition: all 0.2s ease-in-out;
  }

  /* Back Button */
  .back-btn {
    animation: fadeInUp 1.3s ease;
  }

  /* Animations */
  @keyframes fadeInDown {
    from {opacity: 0; transform: translateY(-20px);}
    to {opacity: 1; transform: translateY(0);}
  }

  @keyframes fadeInUp {
    from {opacity: 0; transform: translateY(20px);}
    to {opacity: 1; transform: translateY(0);}
  }

  @keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
  }

  @keyframes rowFade {
    from {opacity: 0; transform: translateX(-20px);}
    to {opacity: 1; transform: translateX(0);}
  }
</style>

